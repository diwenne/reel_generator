{
  "manim_code": "def construct(self):\n    # 1. SETUP TITLES & ZONES\n    # Title in Top Zone (y > 3.5)\n    title = Text(\"Why does 1/2 + 1/4 + 1/8 + ... = 1?\", font_size=48)\n    title.to_edge(UP, buff=0.4)\n    \n    # 2. INTRO - Main Canvas Setup\n    # Main square in Center Zone. Side length 4.5 ensures it fits well.\n    # Centered at UP * 0.5 to leave room for bottom text.\n    full_square = Square(side_length=4.5, color=WHITE, stroke_width=4)\n    full_square.move_to(UP * 0.5)\n    \n    # Labels for the final morph\n    fraction_labels = []\n    rects = []\n    \n    self.play(Write(title))\n    self.play(Create(full_square))\n    self.wait(1)\n\n    # 3. BUILD THE SEQUENCE\n    # We will slice the square recursively\n    # Coordinates relative to the square's center\n    # Current bounds relative to square center: x in [-2.25, 2.25], y in [-2.25, 2.25]\n    \n    x_min, x_max = -2.25, 2.25\n    y_min, y_max = -2.25, 2.25\n    \n    # Colors for the sequence\n    colors = [BLUE, TEAL, GREEN, YELLOW, GOLD, RED]\n    texts = [\"1/2\", \"1/4\", \"1/8\", \"1/16\", \"1/32\", \"\"]\n    \n    # Positioning logic variables\n    # Direction of cut: 0=Vertical(Left), 1=Horizontal(Top), 2=Vertical(Right? No, spiral logic)\n    # Spiral: Left, Top, Right, Bottom... \n    # Logic: \n    # 1. Cut Vertical, keep Left. Remaining is Right.\n    # 2. Cut Horizontal, keep Top. Remaining is Bottom.\n    # 3. Cut Vertical, keep Right. Remaining is Left (relative to block). \n    # Actually standard pattern: Split Vertical, fill Left. Split Horizontal, fill Top. \n    # Then split Vertical, fill Left (of remaining). Split Horizontal, fill Top (of remaining).\n    \n    for i in range(6):\n        # Determine current width and height\n        width = x_max - x_min\n        height = y_max - y_min\n        \n        if i % 2 == 0:\n            # Vertical Cut\n            # Fill the left half of the current bounds\n            rect_width = width / 2\n            rect_height = height\n            \n            # Center of new rect\n            new_center_x = x_min + rect_width / 2\n            new_center_y = y_min + rect_height / 2\n            \n            # Create rect\n            rect = Rectangle(width=rect_width, height=rect_height)\n            rect.move_to(full_square.get_center() + RIGHT * new_center_x + UP * new_center_y)\n            \n            # Update bounds for next iteration (we keep the RIGHT half for processing)\n            x_min += rect_width\n            \n        else:\n            # Horizontal Cut\n            # Fill the top half of the current bounds\n            rect_width = width\n            rect_height = height / 2\n            \n            # Center of new rect\n            new_center_x = x_min + rect_width / 2\n            new_center_y = y_max - rect_height / 2\n            \n            # Create rect\n            rect = Rectangle(width=rect_width, height=rect_height)\n            rect.move_to(full_square.get_center() + RIGHT * new_center_x + UP * new_center_y)\n            \n            # Update bounds for next iteration (we keep the BOTTOM half for processing)\n            y_max -= rect_height\n\n        # Style the rectangle\n        rect.set_fill(colors[i], opacity=0.8)\n        rect.set_stroke(WHITE, width=2)\n        rects.append(rect)\n        \n        # Animate Rectangle\n        run_t = 1.0 if i < 3 else 0.5\n        self.play(DrawBorderThenFill(rect), run_time=run_t)\n        \n        # Add Text Label if it fits (stop after 1/16)\n        if i < 4:\n            label = Text(texts[i], font_size=40 if i < 2 else 32)\n            label.move_to(rect.get_center())\n            fraction_labels.append(label)\n            self.play(Write(label), run_time=0.5)\n        \n        self.wait(0.5)\n\n    # 4. SHOW CONTINUATION\n    dots_visual = Text(\"...\", font_size=36)\n    # Place dots in the remaining tiny space\n    remaining_center = full_square.get_center() + RIGHT * (x_min + (x_max-x_min)/2) + UP * (y_min + (y_max-y_min)/2)\n    dots_visual.move_to(remaining_center)\n    self.play(Write(dots_visual))\n    self.wait(2)\n\n    # 5. THE MORPH (Key Insight)\n    # Fade out the colored rects slightly so labels pop\n    self.play(\n        *[r.animate.set_opacity(0.3) for r in rects],\n        FadeOut(dots_visual),\n        run_time=1\n    )\n\n    # Target positions for equation at BOTTOM\n    # Equation: 1/2 + 1/4 + 1/8 + 1/16 + ... = 1\n    # We will manually position elements to ensure perfect spacing\n    start_x = -5.0\n    y_pos = -3.5  # Bottom zone\n    \n    # 1/2\n    target_half = Text(\"1/2\", font_size=48).move_to(RIGHT * start_x + UP * y_pos)\n    \n    # +\n    plus1 = Text(\"+\", font_size=48).next_to(target_half, RIGHT, buff=0.3)\n    \n    # 1/4\n    target_quarter = Text(\"1/4\", font_size=48).next_to(plus1, RIGHT, buff=0.3)\n    \n    # +\n    plus2 = Text(\"+\", font_size=48).next_to(target_quarter, RIGHT, buff=0.3)\n    \n    # 1/8\n    target_eighth = Text(\"1/8\", font_size=48).next_to(plus2, RIGHT, buff=0.3)\n    \n    # +\n    plus3 = Text(\"+\", font_size=48).next_to(target_eighth, RIGHT, buff=0.3)\n    \n    # 1/16\n    target_sixteenth = Text(\"1/16\", font_size=48).next_to(plus3, RIGHT, buff=0.3)\n    \n    # + ...\n    final_dots = Text(\"+ ...\", font_size=48).next_to(target_sixteenth, RIGHT, buff=0.3)\n    \n    # = 1\n    equals_one = Text(\"= 1\", font_size=60, color=YELLOW).next_to(final_dots, RIGHT, buff=0.5)\n    \n    # Execute the Move Animation\n    # We take the labels from the square and transform them into the equation labels\n    self.play(\n        fraction_labels[0].animate.replace(target_half),\n        fraction_labels[1].animate.replace(target_quarter),\n        fraction_labels[2].animate.replace(target_eighth),\n        fraction_labels[3].animate.replace(target_sixteenth),\n        run_time=2\n    )\n    \n    # Write the operators\n    self.play(\n        Write(plus1), \n        Write(plus2), \n        Write(plus3), \n        Write(final_dots),\n        run_time=1\n    )\n    self.wait(0.5)\n    \n    # 6. CONCLUSION\n    # Emphasize the full square when showing \"= 1\"\n    self.play(Write(equals_one))\n    \n    # Flash the full square border to connect \"1\" to the visual shape\n    self.play(\n        full_square.animate.set_stroke(YELLOW, width=8).scale(1.05),\n        run_time=0.5\n    )\n    self.play(\n        full_square.animate.set_stroke(WHITE, width=4).scale(1/1.05),\n        run_time=0.5\n    )\n    \n    # Highlight the final result\n    final_rect = SurroundingRectangle(equals_one, color=YELLOW, buff=0.2)\n    self.play(Create(final_rect))\n    \n    self.wait(3)",
  "estimated_duration": 65
}
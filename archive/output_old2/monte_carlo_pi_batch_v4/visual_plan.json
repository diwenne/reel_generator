{
  "manim_code": "import numpy as np\nfrom manim import *\n\nclass MonteCarloPi(Scene):\n    def construct(self):\n        # 1. Title Sequence\n        # Start centered, then move up\n        title = Text(\"Throwing Darts to Find Pi\", font_size=56)\n        self.play(Write(title))\n        self.wait(1.5)\n        \n        # Move title to top\n        self.play(\n            title.animate.scale(0.8).to_edge(UP, buff=0.2)\n        )\n        self.wait(0.5)\n\n        # 2. Setup Layout\n        # Left Zone: Square and Circle\n        # Center of shape zone\n        shape_center = LEFT * 3.0 + DOWN * 0.4\n        side_len = 5.0\n        r_val = side_len / 2.0\n        \n        square = Square(side_length=side_len, color=BLUE).move_to(shape_center)\n        circle = Circle(radius=r_val, color=WHITE).move_to(shape_center)\n        \n        # Right Zone: Stats and Explanations\n        # Align text to x = 3.5\n        text_x = 3.5\n        \n        # Top explanation\n        formula_text = Text(\"\u03c0 \u2248 4 \u00d7 (Inside / Total)\", font_size=36, color=WHITE)\n        formula_text.set_x(text_x).set_y(2.0)\n        \n        # Counters\n        # Initialize text objects\n        count_total = 0\n        count_inside = 0\n        \n        # Use fixed width feel by ensuring positions\n        lbl_total = Text(\"Total: 0\", font_size=40).set_x(text_x).set_y(0.5)\n        lbl_inside = Text(\"Inside: 0\", font_size=40, color=GREEN).set_x(text_x).set_y(-0.5)\n        \n        # Estimate display\n        lbl_approx = Text(\"Estimate:\", font_size=44).set_x(text_x).set_y(-2.0)\n        val_approx = Text(\"0.00000\", font_size=60, color=YELLOW).set_x(text_x).set_y(-2.8)\n\n        # 3. Draw Geometry\n        self.play(Create(square), run_time=1.5)\n        self.play(Create(circle), run_time=1.5)\n        self.wait(0.5)\n        \n        # Explain the goal\n        self.play(Write(formula_text))\n        self.wait(1.5)\n        \n        # Show counters\n        self.play(\n            Write(lbl_total),\n            Write(lbl_inside),\n            Write(lbl_approx),\n            Write(val_approx)\n        )\n        self.wait(1)\n\n        # 4. Simulation Loop (Slow)\n        dots_group = VGroup()\n        \n        # Generate 12 points slowly\n        # We use a loop to simulate the process step-by-step\n        \n        for i in range(12):\n            # Random position\n            rx = np.random.uniform(-r_val, r_val)\n            ry = np.random.uniform(-r_val, r_val)\n            pos = shape_center + np.array([rx, ry, 0])\n            \n            # Check inside\n            is_inside = (rx**2 + ry**2) <= (r_val**2)\n            \n            # Update data\n            count_total += 1\n            if is_inside:\n                count_inside += 1\n            \n            val = 4.0 * count_inside / count_total\n            \n            # Visuals\n            dot_color = GREEN if is_inside else RED\n            new_dot = Dot(point=pos, color=dot_color, radius=0.08)\n            dots_group.add(new_dot)\n            \n            # Text updates\n            new_total_text = Text(f\"Total: {count_total}\", font_size=40).move_to(lbl_total)\n            new_inside_text = Text(f\"Inside: {count_inside}\", font_size=40, color=GREEN).move_to(lbl_inside)\n            new_val_text = Text(f\"{val:.5f}\", font_size=60, color=YELLOW).move_to(val_approx)\n            \n            # Animate\n            self.play(FadeIn(new_dot, scale=0.5), run_time=0.2)\n            self.play(\n                Transform(lbl_total, new_total_text),\n                Transform(lbl_inside, new_inside_text),\n                Transform(val_approx, new_val_text),\n                run_time=0.2\n            )\n            \n            # Pause slightly for the first few to emphasize the logic\n            if i < 3:\n                self.wait(0.8)\n            elif i < 8:\n                self.wait(0.3)\n            # Last few go fast\n        \n        self.wait(1)\n        \n        # 5. Fast Forward (The \"Blur\")\n        # Generate a large cloud of dots\n        fast_group = VGroup()\n        points_to_add = 300\n        \n        # Calculate stats for the batch\n        for _ in range(points_to_add):\n            rx = np.random.uniform(-r_val, r_val)\n            ry = np.random.uniform(-r_val, r_val)\n            pos = shape_center + np.array([rx, ry, 0])\n            is_inside = (rx**2 + ry**2) <= (r_val**2)\n            \n            count_total += 1\n            if is_inside:\n                count_inside += 1\n            \n            col = GREEN if is_inside else RED\n            # Smaller dots for the cloud\n            d = Dot(point=pos, color=col, radius=0.04)\n            fast_group.add(d)\n            \n        dots_group.add(fast_group)\n        final_val = 4.0 * count_inside / count_total\n        \n        # Prepare text updates\n        fast_total_text = Text(f\"Total: {count_total}\", font_size=40).move_to(lbl_total)\n        fast_inside_text = Text(f\"Inside: {count_inside}\", font_size=40, color=GREEN).move_to(lbl_inside)\n        fast_val_text = Text(f\"{final_val:.5f}\", font_size=60, color=YELLOW).move_to(val_approx)\n        \n        self.play(\n            FadeIn(fast_group, lag_ratio=0.05),\n            Transform(lbl_total, fast_total_text),\n            Transform(lbl_inside, fast_inside_text),\n            Transform(val_approx, fast_val_text),\n            run_time=4\n        )\n        self.wait(1)\n        \n        # 6. Solid Color Fill (Convergence)\n        # Create filled shapes to simulate infinite points\n        # Square is Red (background), Circle is Green (foreground)\n        \n        filled_square = Square(side_length=side_len, color=RED, fill_opacity=0.6, stroke_width=0).move_to(shape_center)\n        filled_circle = Circle(radius=r_val, color=GREEN, fill_opacity=0.8, stroke_width=0).move_to(shape_center)\n        # Place square behind circle logic is visual only (fading in)\n        \n        # Text converges to Pi\n        final_pi_text = Text(\"3.14159\", font_size=60, color=YELLOW).move_to(val_approx)\n        limit_text = Text(\"Total: Many\", font_size=40).move_to(lbl_total)\n        \n        self.play(\n            FadeIn(filled_square),\n            FadeIn(filled_circle),\n            Transform(val_approx, final_pi_text),\n            Transform(lbl_total, limit_text),\n            run_time=2.5\n        )\n        self.wait(2)\n        \n        # 7. Final Morph\n        # Target: \"\u03c0 \u2248 3.14159\" centered\n        final_statement = Text(\"\u03c0 \u2248 3.14159\", font_size=80, color=YELLOW).move_to(ORIGIN)\n        \n        # Group everything visible\n        all_visible = VGroup(\n            title, square, circle, dots_group, filled_square, filled_circle,\n            formula_text, lbl_total, lbl_inside, lbl_approx, val_approx\n        )\n        \n        self.play(\n            ReplacementTransform(all_visible, final_statement),\n            run_time=2.0\n        )\n        \n        self.wait(3)",
  "estimated_duration": 50
}
{
  "manim_code": "class InfiniteSum(Scene):\n    def construct(self):\n        # 1. INTRO\n        # Create title, wait, then shrink to corner to clear space\n        title = Text(\"Why does 1/2 + 1/4 + ... = 1?\", font_size=56)\n        self.play(Write(title))\n        self.wait(2)\n        self.play(title.animate.scale(0.6).to_corner(UL, buff=0.3))\n\n        # 2. SETUP VISUALS\n        # Define the main unit square boundary (centered, slightly shifted up)\n        # Size 6x6 to make it large and visible (spanning y from -2.5 to 3.5 roughly)\n        # Actually let's use size 5 to ensure labels fit comfortably\n        square_size = 5.0\n        main_square = Square(side_length=square_size, color=WHITE)\n        main_square.move_to(UP * 0.5)  # Center in the 'shape zone'\n        \n        # Initial Label for the whole square\n        area_label = Text(\"Area = 1\", font_size=48).next_to(main_square, UP, buff=0.2)\n        \n        self.play(Create(main_square), Write(area_label))\n        self.wait(1)\n        self.play(FadeOut(area_label))\n\n        # Initialize bottom sum counter\n        # Important: Use short text strings to avoid screen overflow\n        sum_val = 0.0\n        sum_text = Text(\"Sum: 0.0\", font_size=48).to_edge(DOWN, buff=0.5)\n        self.play(Write(sum_text))\n\n        # 3. RECURSIVE FILLING\n        # We will create rectangles manually for the first few steps to ensure placement\n        \n        # Configuration for the spiral\n        # (x_min, y_min, x_max, y_max) of the currently 'empty' area\n        # Start coordinates based on main_square position\n        left = main_square.get_left()[0]\n        right = main_square.get_right()[0]\n        bottom = main_square.get_bottom()[1]\n        top = main_square.get_top()[1]\n        \n        # Colors for the sequence\n        colors = [BLUE, TEAL, GREEN, YELLOW, GOLD, RED]\n        fractions = [\"1/2\", \"1/4\", \"1/8\", \"1/16\", \"1/32\", \"...\"]\n        font_scales = [1.0, 1.0, 0.9, 0.7, 0.5, 0.4]\n\n        # Group to hold all created shapes for the final transform\n        created_shapes = VGroup(title, main_square)\n\n        # Loop 6 steps\n        for i in range(6):\n            current_color = colors[i]\n            fraction_str = fractions[i]\n            \n            # Calculate dimensions of current empty space\n            width = right - left\n            height = top - bottom\n            \n            # Determine split direction (Alternating Vertical/Horizontal)\n            # i=0 (1/2): Vertical split (take left half)\n            # i=1 (1/4): Horizontal split (take top half)\n            # i=2 (1/8): Vertical split (take left half)\n            # ...\n            \n            if i % 2 == 0:  # Vertical split, take left\n                new_width = width / 2\n                rect = Rectangle(width=new_width, height=height)\n                rect.set_fill(current_color, opacity=0.6)\n                rect.set_stroke(WHITE, width=2)\n                # Position: Align left edge to 'left', center vertically\n                rect.move_to(np.array([left + new_width/2, (bottom + top)/2, 0]))\n                # Update 'left' boundary for next iteration\n                left += new_width\n            else:  # Horizontal split, take top\n                new_height = height / 2\n                rect = Rectangle(width=width, height=new_height)\n                rect.set_fill(current_color, opacity=0.6)\n                rect.set_stroke(WHITE, width=2)\n                # Position: Align top edge to 'top', center horizontally\n                rect.move_to(np.array([(left + right)/2, top - new_height/2, 0]))\n                # Update 'top' boundary for next iteration\n                top -= new_height\n\n            # Create label\n            label = Text(fraction_str, font_size=40)\n            label.scale(font_scales[i])\n            label.move_to(rect.get_center())\n\n            # Animate this step\n            # 1. Show Shape & Label\n            self.play(DrawBorderThenFill(rect), Write(label), run_time=0.8)\n            created_shapes.add(rect, label)\n\n            # 2. Update Sum Calculation\n            denom = 2**(i+1)\n            sum_val += 1.0 / denom\n            # Format string carefully to avoid long decimals overflow\n            if i < 4:\n                val_str = f\"{sum_val:.4g}\" # General format for clean short numbers\n            else:\n                val_str = f\"{sum_val:.5f}\"\n            \n            new_sum_text = Text(f\"Sum: {val_str}\", font_size=48).to_edge(DOWN, buff=0.5)\n            \n            # Transform old sum text to new (avoid overlap)\n            self.play(Transform(sum_text, new_sum_text), run_time=0.5)\n            self.wait(0.5)\n\n        created_shapes.add(sum_text)\n\n        # 4. SHOW THE REMAINING GAP\n        remaining_label = Text(\"Gap -> 0\", font_size=36, color=RED)\n        # Place it in the tiny remaining hole (approx center of remaining bounds)\n        center_x = (left + right) / 2\n        center_y = (bottom + top) / 2\n        remaining_label.move_to(np.array([center_x, center_y, 0]))\n        # Shift slightly right/down so it doesn't overlap the tiny shapes\n        remaining_label.shift(RIGHT * 1.2 + DOWN * 0.2)\n        arrow = Arrow(remaining_label.get_left(), np.array([center_x, center_y, 0]), buff=0.1, color=RED)\n        \n        self.play(Write(remaining_label), Create(arrow))\n        created_shapes.add(remaining_label, arrow)\n        self.wait(2)\n\n        # 5. CONCLUSION\n        # Morph EVERYTHING into the final equation\n        final_equation = Text(\"Sum = 1\", font_size=80, color=YELLOW)\n        final_equation.move_to(ORIGIN)\n\n        self.play(\n            ReplacementTransform(created_shapes, final_equation),\n            run_time=2.0\n        )\n        \n        self.wait(3)",
  "estimated_duration": 65
}
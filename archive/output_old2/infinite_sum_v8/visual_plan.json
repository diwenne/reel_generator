{
  "manim_code": "def construct(self):\n    # 1. SETUP TITLES & LAYOUT\n    # Title positioned high to leave room\n    title = Text(\"What is 1/2 + 1/4 + 1/8 + ...?\", font_size=48)\n    title.to_edge(UP, buff=0.3)\n    \n    # Main working area - Square\n    # Side length 4.5 ensures 1.5+ units gap from title and bottom text\n    # Positioned slightly up to balance visual weight\n    sq_side = 4.5\n    full_square = Square(side_length=sq_side, color=WHITE, stroke_width=4)\n    full_square.move_to(ORIGIN)  # Centered vertically in safe zone\n    \n    # Equation area at bottom\n    equation_label = Text(\"Sum =\", font_size=40)\n    equation_label.to_edge(DOWN, buff=0.8).to_edge(LEFT, buff=1.0)\n    \n    # 2. INTRO ANIMATION\n    self.play(Write(title))\n    self.wait(1)\n    self.play(DrawBorderThenFill(full_square))\n    self.wait(0.5)\n    self.play(Write(equation_label))\n    \n    # 3. ITERATIVE FILLING\n    # Logic: We define a 'current_rect' area and slice it iteratively\n    # Initial area is the full square coords\n    # Coords: [x_min, y_min, x_max, y_max]\n    c = full_square.get_center()\n    r = sq_side / 2\n    curr_x_min, curr_y_min = c[0] - r, c[1] - r\n    curr_x_max, curr_y_max = c[0] + r, c[1] + r\n    \n    colors = [BLUE, TEAL, GREEN, YELLOW, MAROON]\n    fractions = [\"1/2\", \"1/4\", \"1/8\", \"1/16\", \"1/32\"]\n    font_sizes = [48, 40, 32, 24, 18]\n    \n    current_sum_tex = \"\"\n    sum_objects = VGroup() # To keep track of added text for transforming\n    \n    # Loop for first 5 iterations\n    for i in range(5):\n        # Determine split direction: even i -> vertical split (left/right), odd i -> horizontal (top/bottom)\n        # But standard pattern is usually: Left Half, Top Right, Bottom Right(Left), etc.\n        # Let's stick to: Always take half of remaining area.\n        # i=0: Vertical split, take Left. Remaining Right.\n        # i=1: Horizontal split, take Top. Remaining Bottom.\n        # i=2: Vertical split, take Left. Remaining Right.\n        \n        is_vertical = (i % 2 == 0)\n        \n        if is_vertical:\n            width = (curr_x_max - curr_x_min) / 2\n            height = (curr_y_max - curr_y_min)\n            # Take left half\n            rect = Rectangle(width=width, height=height)\n            rect.set_fill(colors[i], opacity=0.8)\n            rect.set_stroke(WHITE, width=2)\n            # Position: x is mid of left half, y is mid of total height\n            new_center_x = curr_x_min + width / 2\n            new_center_y = (curr_y_min + curr_y_max) / 2\n            rect.move_to([new_center_x, new_center_y, 0])\n            \n            # Update remaining area for next loop (The Right Half)\n            curr_x_min += width\n            \n        else:\n            width = (curr_x_max - curr_x_min)\n            height = (curr_y_max - curr_y_min) / 2\n            # Take top half\n            rect = Rectangle(width=width, height=height)\n            rect.set_fill(colors[i], opacity=0.8)\n            rect.set_stroke(WHITE, width=2)\n            # Position: x is mid of width, y is mid of top half\n            new_center_x = (curr_x_min + curr_x_max) / 2\n            new_center_y = curr_y_max - height / 2\n            rect.move_to([new_center_x, new_center_y, 0])\n            \n            # Update remaining area for next loop (The Bottom Half)\n            curr_y_max -= height\n\n        # Create fraction text\n        label = Text(fractions[i], font_size=font_sizes[i])\n        label.move_to(rect.get_center())\n        \n        # Update Equation\n        # Format: \"1/2\" or \" + 1/4\"\n        plus_text = \" + \" if i > 0 else \" \"\n        term_str = plus_text + fractions[i]\n        term_text = Text(term_str, font_size=40)\n        \n        # Position new term next to previous\n        if i == 0:\n            term_text.next_to(equation_label, RIGHT, buff=0.2)\n        else:\n            term_text.next_to(sum_objects[-1], RIGHT, buff=0.1)\n            \n        # Animate\n        self.play(FadeIn(rect), scale=0.8)\n        self.play(Write(label), run_time=0.5)\n        self.play(Write(term_text), run_time=0.5)\n        sum_objects.add(term_text)\n        self.wait(0.5)\n\n    # 4. SHOW INFINITY DOTS\n    dots = Text(\"...\", font_size=40)\n    dots.next_to(sum_objects[-1], RIGHT, buff=0.1)\n    self.play(Write(dots))\n    \n    # Quickly fill the tiny remaining bit to imply infinity\n    final_tiny_rect = Rectangle(\n        width=(curr_x_max - curr_x_min),\n        height=(curr_y_max - curr_y_min),\n        color=WHITE\n    )\n    final_tiny_rect.set_fill(GREY, opacity=0.8)\n    final_tiny_rect.move_to([(curr_x_min + curr_x_max)/2, (curr_y_min + curr_y_max)/2, 0])\n    self.play(FadeIn(final_tiny_rect))\n    self.wait(1)\n\n    # 5. THE AHA MOMENT\n    # Group all sum parts\n    full_equation_group = VGroup(equation_label, sum_objects, dots)\n    \n    # Transform Question to Statement\n    conclusion_text = Text(\"The sum fills the whole square.\", font_size=42, color=YELLOW)\n    conclusion_text.to_edge(UP, buff=1.0)\n    \n    self.play(FadeOut(title), FadeIn(conclusion_text))\n    self.wait(1)\n    \n    area_text = Text(\"Total Area = 1\", font_size=48, color=YELLOW)\n    area_text.move_to(full_square.get_center())\n    area_text.set_background_stroke(color=BLACK, width=5) # Readable over colors\n    \n    self.play(Write(area_text))\n    self.wait(2)\n\n    # 6. DRAMATIC FINALE\n    # Clear screen\n    self.play(\n        FadeOut(full_square), \n        FadeOut(area_text),\n        FadeOut(full_equation_group),\n        FadeOut(conclusion_text),\n        *[FadeOut(m) for m in self.mobjects if m not in [full_square, area_text, full_equation_group, conclusion_text]],\n        run_time=1.0\n    )\n    \n    # Big Final Result\n    final_eq = Text(\"1/2 + 1/4 + 1/8 + ... = 1\", font_size=64, color=YELLOW)\n    final_eq.move_to(ORIGIN)\n    self.play(Write(final_eq), run_time=1.5)\n    self.wait(3)",
  "estimated_duration": 34
}
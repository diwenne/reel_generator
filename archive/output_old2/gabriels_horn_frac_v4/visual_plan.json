{
  "manim_code": "from manim import *\nimport math\n\nclass GabrielsHorn(Scene):\n    def construct(self):\n        # 1. INTRO: Title starts centered then moves up\n        title = Text(\"Infinite Surface, Finite Volume?\", font_size=56)\n        self.play(Write(title))\n        self.wait(1.5)\n        self.play(title.animate.scale(0.7).to_edge(UP, buff=0.3))\n\n        # 2. DEFINITION: Show y = 1/x fraction\n        # Create fraction parts manually for perfect alignment\n        y_lab = Text(\"y =\", font_size=48)\n        num = Text(\"1\", font_size=48)\n        div_line = Line(LEFT*0.3, RIGHT*0.3, color=WHITE).set_stroke(width=4)\n        den = Text(\"x\", font_size=48)\n        fraction = VGroup(num, div_line, den).arrange(DOWN, buff=0.1)\n        \n        # Combine \"y =\" with fraction\n        equation = VGroup(y_lab, fraction).arrange(RIGHT, buff=0.2)\n        # Position in top-left area\n        equation.move_to(UP * 2.5 + LEFT * 3.5)\n        \n        self.play(Write(equation))\n        self.wait(1)\n\n        # 3. GRAPH SETUP\n        # Origin centered nicely for the horn\n        origin = LEFT * 4 + DOWN * 1.0\n        \n        # Axes\n        x_axis = Arrow(start=origin, end=origin + RIGHT * 9, color=GRAY)\n        y_axis = Arrow(start=origin + DOWN*1.5, end=origin + UP * 4, color=GRAY)\n        x_lab = Text(\"x\", font_size=36).next_to(x_axis, DOWN)\n        y_axis_lab = Text(\"y\", font_size=36).next_to(y_axis, LEFT)\n        axes = VGroup(x_axis, y_axis, x_lab, y_axis_lab)\n        \n        self.play(Create(axes))\n        \n        # 4. DRAW CURVE\n        # y = 1/x scaled. Let x=1 be 1 unit right, y=1 be 2 units up\n        s_x = 1.0\n        s_y = 2.0\n        \n        # Generate points for 1/x from x=1 to x=8\n        pts_top = []\n        steps = 60\n        max_x = 8.0\n        for i in range(steps + 1):\n            x_val = 1.0 + (max_x - 1.0) * (i / steps)\n            y_val = 1.0 / x_val\n            pt = origin + RIGHT * (x_val * s_x) + UP * (y_val * s_y)\n            pts_top.append(pt)\n            \n        curve_top = VMobject().set_points_smoothly(pts_top).set_color(BLUE).set_stroke(width=4)\n        \n        # Vertical line at x=1\n        start_pt_top = pts_top[0]\n        start_pt_axis = origin + RIGHT * s_x\n        v_line = Line(start_pt_axis, start_pt_top, color=BLUE)\n        \n        x1_label = Text(\"x=1\", font_size=32).next_to(start_pt_axis, DOWN, buff=0.2)\n        \n        self.play(Create(v_line), Write(x1_label))\n        self.play(Create(curve_top), run_time=2)\n        self.wait(1)\n\n        # 5. ROTATION (Make the Horn)\n        rotate_text = Text(\"Rotate around x-axis\", font_size=40, color=BLUE_B)\n        rotate_text.move_to(UP * 1.5 + RIGHT * 2)\n        self.play(Write(rotate_text))\n        \n        # Create bottom mirror curve\n        pts_bot = []\n        for i in range(steps + 1):\n            x_val = 1.0 + (max_x - 1.0) * (i / steps)\n            y_val = -1.0 / x_val\n            pt = origin + RIGHT * (x_val * s_x) + UP * (y_val * s_y)\n            pts_bot.append(pt)\n            \n        curve_bot = VMobject().set_points_smoothly(pts_bot).set_color(BLUE).set_stroke(width=4)\n        \n        # Ellipse at the opening to simulate 3D\n        opening = Ellipse(width=0.4, height=4.0, color=BLUE).move_to(start_pt_axis)\n        \n        self.play(\n            Create(curve_bot),\n            Create(opening),\n            run_time=2\n        )\n        \n        # Fill the shape\n        fill_pts = pts_top + pts_bot[::-1]\n        horn_fill = Polygon(*fill_pts, color=BLUE, fill_opacity=0.3, stroke_opacity=0)\n        self.play(FadeIn(horn_fill))\n        self.play(FadeOut(rotate_text))\n        self.wait(1)\n\n        # 6. VOLUME CALCULATION (Green)\n        # \"Volume = Sum of slices\"\n        # Formula: \u03c0(1/x)\u00b2\n        \n        v_lab = Text(\"Slice Area = \u03c0 \u00b7 \", font_size=36, color=YELLOW)\n        vn = Text(\"1\", font_size=36)\n        vl = Line(LEFT*0.3, RIGHT*0.3, color=WHITE)\n        vd = Text(\"x\u00b2\", font_size=36)\n        v_frac = VGroup(vn, vl, vd).arrange(DOWN, buff=0.1)\n        \n        v_group = VGroup(v_lab, v_frac).arrange(RIGHT, buff=0.1)\n        v_group.move_to(UP * 1.5 + RIGHT * 2.5)\n        \n        self.play(Write(v_group))\n        self.wait(1)\n        \n        v_res = Text(\"Finite Sum: Volume = \u03c0\", font_size=40, color=GREEN)\n        v_res.next_to(v_group, DOWN, buff=0.2)\n        self.play(Write(v_res))\n        self.wait(2)\n        \n        # Move volume info aside to make room\n        vol_all = VGroup(v_group, v_res)\n        self.play(vol_all.animate.scale(0.8).to_edge(RIGHT, buff=0.5).shift(UP))\n\n        # 7. SURFACE CALCULATION (Red)\n        # \"Surface = Sum of rings\"\n        # Formula: 2\u03c0(1/x)\n        \n        s_lab = Text(\"Perimeter = 2\u03c0 \u00b7 \", font_size=36, color=YELLOW)\n        sn = Text(\"1\", font_size=36)\n        sl = Line(LEFT*0.3, RIGHT*0.3, color=WHITE)\n        sd = Text(\"x\", font_size=36)\n        s_frac = VGroup(sn, sl, sd).arrange(DOWN, buff=0.1)\n        \n        s_group = VGroup(s_lab, s_frac).arrange(RIGHT, buff=0.1)\n        s_group.move_to(DOWN * 0.5 + RIGHT * 2.5)\n        \n        self.play(Write(s_group))\n        self.wait(1)\n        \n        s_res = Text(\"Infinite Sum: Area = \u221e\", font_size=40, color=RED)\n        s_res.next_to(s_group, DOWN, buff=0.2)\n        self.play(Write(s_res))\n        self.wait(2)\n\n        # 8. THE PARADOX VISUALIZATION\n        # Clear formulas, keep results\n        self.play(\n            FadeOut(v_group),\n            FadeOut(s_group),\n            FadeOut(vol_all) # Remove the moved volume text group to clean up\n        )\n        \n        # Bring back clean results side-by-side at bottom\n        res_v = Text(\"Volume = \u03c0\", font_size=48, color=GREEN)\n        res_s = Text(\"Surface = \u221e\", font_size=48, color=RED)\n        results = VGroup(res_v, res_s).arrange(RIGHT, buff=1.5).to_edge(DOWN, buff=0.5)\n        \n        self.play(ReplacementTransform(s_res, res_s), FadeIn(res_v))\n        self.wait(1)\n\n        # Paint Paradox Text\n        p_text1 = Text(\"Fill with paint? Yes.\", font_size=40, color=GREEN)\n        p_text1.move_to(UP * 2.5 + RIGHT * 2)\n        \n        self.play(Write(p_text1))\n        self.play(horn_fill.animate.set_fill(GREEN, opacity=0.8), run_time=1.5)\n        \n        p_text2 = Text(\"Paint the inside? Never!\", font_size=40, color=RED)\n        p_text2.next_to(p_text1, DOWN, buff=0.2)\n        self.play(Write(p_text2))\n        self.wait(3)\n\n        # 9. CONCLUSION\n        # Morph EVERYTHING into final equation\n        final_eq = Text(\"V = \u03c0,  S = \u221e\", font_size=72, color=YELLOW).move_to(ORIGIN)\n        \n        # Gather everything currently on screen\n        # Using VGroup(*self.mobjects) captures all visible items\n        all_visible = VGroup(*self.mobjects)\n        \n        self.play(ReplacementTransform(all_visible, final_eq), run_time=2.0)\n        self.wait(3)\n",
  "estimated_duration": 60
}
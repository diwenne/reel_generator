{
  "manim_code": "import random\nfrom manim import *\nimport numpy as np\n\nclass MonteCarloPi(Scene):\n    def construct(self):\n        # 1. HOOK: Title Animation\n        # Title starts centered then moves up\n        title = Text(\"Throwing Darts to Find Pi\", font_size=56)\n        self.play(Write(title))\n        self.wait(1)\n        self.play(title.animate.scale(0.7).to_edge(UP, buff=0.3))\n\n        # 2. SETUP VISUALS (Left Zone)\n        # Shapes centered at x = -3.5 to leave room for text on right\n        shape_center = LEFT * 3.5\n        square_side = 5.0\n        radius = square_side / 2\n        \n        # Create Square and Circle\n        square = Square(side_length=square_side, color=BLUE)\n        square.move_to(shape_center)\n        \n        circle = Circle(radius=radius, color=YELLOW)\n        circle.move_to(shape_center)\n        \n        self.play(DrawBorderThenFill(square), run_time=1.5)\n        self.play(Create(circle), run_time=1.5)\n        \n        # 3. EXPLAIN LOGIC (Right Zone)\n        # Text centered at x = 3.0 to ensure it stays on screen\n        text_x = 3.0\n        \n        t_area_c = Text(\"Circle Area = \u03c0r\u00b2\", font_size=40).move_to(RIGHT * text_x + UP * 2.0)\n        t_area_s = Text(\"Square Area = (2r)\u00b2 = 4r\u00b2\", font_size=40).next_to(t_area_c, DOWN, buff=0.4).set_x(text_x)\n        \n        self.play(Write(t_area_c))\n        self.wait(1)\n        self.play(Write(t_area_s))\n        self.wait(1)\n        \n        # Show Ratio\n        t_ratio = Text(\"Ratio = \u03c0 / 4\", font_size=48, color=YELLOW).next_to(t_area_s, DOWN, buff=0.6).set_x(text_x)\n        self.play(Write(t_ratio))\n        self.wait(1)\n        \n        # Show Formula for Pi\n        t_pi_form = Text(\"\u03c0 = 4 \u00d7 Ratio\", font_size=48, color=ORANGE).next_to(t_ratio, DOWN, buff=0.4).set_x(text_x)\n        self.play(Write(t_pi_form))\n        self.wait(2)\n        \n        # 4. TRANSITION TO SIMULATION\n        # Keep the formula, clear derivation\n        sim_formula = Text(\"\u03c0 \u2248 4 \u00d7 (Inside / Total)\", font_size=36, color=ORANGE)\n        sim_formula.move_to(RIGHT * text_x + UP * 2.5)\n        \n        self.play(\n            FadeOut(t_area_c),\n            FadeOut(t_area_s),\n            FadeOut(t_ratio),\n            ReplacementTransform(t_pi_form, sim_formula)\n        )\n        \n        # Setup Counters\n        count_inside = 0\n        count_total = 0\n        \n        lbl_total = Text(\"Total: 0\", font_size=36).next_to(sim_formula, DOWN, buff=1.0).set_x(text_x)\n        lbl_inside = Text(\"Inside: 0\", font_size=36).next_to(lbl_total, DOWN, buff=0.4).set_x(text_x)\n        lbl_est = Text(\"\u03c0 \u2248 0.0000\", font_size=52, color=YELLOW).next_to(lbl_inside, DOWN, buff=0.8).set_x(text_x)\n        \n        self.play(Write(lbl_total), Write(lbl_inside), Write(lbl_est))\n        self.wait(1)\n        \n        # Group to hold all dots\n        dots_group = VGroup()\n        \n        # Helper variables for random generation\n        x_min, x_max = shape_center[0] - radius, shape_center[0] + radius\n        y_min, y_max = shape_center[1] - radius, shape_center[1] + radius\n        \n        # 5. SLOW SIMULATION (Individual Points)\n        # We will manually animate the first few points\n        for i in range(10):\n            # Generate random point\n            rx = random.uniform(x_min, x_max)\n            ry = random.uniform(y_min, y_max)\n            p = np.array([rx, ry, 0])\n            \n            # Check if inside\n            dx = rx - shape_center[0]\n            dy = ry - shape_center[1]\n            is_in = (dx*dx + dy*dy) <= (radius * radius)\n            \n            # Create Dot\n            dot_color = GREEN if is_in else RED\n            dot = Dot(point=p, color=dot_color, radius=0.08)\n            dots_group.add(dot)\n            \n            # Update Logic\n            count_total += 1\n            if is_in:\n                count_inside += 1\n            est_val = 4.0 * count_inside / count_total\n            \n            # Prepare new text objects\n            new_total = Text(f\"Total: {count_total}\", font_size=36).move_to(lbl_total)\n            new_inside = Text(f\"Inside: {count_inside}\", font_size=36).move_to(lbl_inside)\n            new_est = Text(f\"\u03c0 \u2248 {est_val:.4f}\", font_size=52, color=YELLOW).move_to(lbl_est)\n            \n            # Animate\n            self.play(FadeIn(dot, scale=0.5), run_time=0.3)\n            self.play(\n                Transform(lbl_total, new_total),\n                Transform(lbl_inside, new_inside),\n                Transform(lbl_est, new_est),\n                run_time=0.1\n            )\n            # Wait longer for the first few to let viewer process\n            if i < 3:\n                self.wait(0.5)\n        \n        # 6. FAST SIMULATION (Batches)\n        # Generate batches of dots\n        batches = [20, 50, 100, 200]\n        for batch_size in batches:\n            batch_dots = VGroup()\n            for _ in range(batch_size):\n                rx = random.uniform(x_min, x_max)\n                ry = random.uniform(y_min, y_max)\n                p = np.array([rx, ry, 0])\n                \n                dx = rx - shape_center[0]\n                dy = ry - shape_center[1]\n                is_in = (dx*dx + dy*dy) <= (radius * radius)\n                \n                if is_in:\n                    count_inside += 1\n                count_total += 1\n                \n                dot_color = GREEN if is_in else RED\n                # Smaller dots for density\n                batch_dots.add(Dot(point=p, color=dot_color, radius=0.05))\n            \n            dots_group.add(batch_dots)\n            \n            est_val = 4.0 * count_inside / count_total\n            \n            new_total = Text(f\"Total: {count_total}\", font_size=36).move_to(lbl_total)\n            new_inside = Text(f\"Inside: {count_inside}\", font_size=36).move_to(lbl_inside)\n            new_est = Text(f\"\u03c0 \u2248 {est_val:.4f}\", font_size=52, color=YELLOW).move_to(lbl_est)\n            \n            self.play(\n                FadeIn(batch_dots, lag_ratio=0.05),\n                Transform(lbl_total, new_total),\n                Transform(lbl_inside, new_inside),\n                Transform(lbl_est, new_est),\n                run_time=1.0\n            )\n            self.wait(0.5)\n            \n        # 7. THE LIMIT (Massive Fill)\n        t_limit = Text(\"With Infinite Points...\", font_size=36, color=BLUE).next_to(lbl_total, UP, buff=0.5).set_x(text_x)\n        self.play(Write(t_limit))\n        \n        # Create filled versions: Red Square background, Green Circle foreground\n        filled_square = Square(side_length=square_side, color=RED, fill_opacity=1.0).move_to(shape_center)\n        filled_circle = Circle(radius=radius, color=GREEN, fill_opacity=1.0).move_to(shape_center)\n        \n        # Fade out dots, fade in filled shapes\n        self.play(\n            FadeOut(dots_group),\n            FadeIn(filled_square),\n            FadeIn(filled_circle),\n            run_time=2\n        )\n        \n        # Show final calculation stats\n        final_total = Text(\"Total: \u221e\", font_size=36).move_to(lbl_total)\n        final_inside = Text(\"Inside: \u221e\", font_size=36).move_to(lbl_inside)\n        final_est = Text(\"\u03c0 \u2248 3.14159\", font_size=52, color=YELLOW).move_to(lbl_est)\n        \n        self.play(\n            Transform(lbl_total, final_total),\n            Transform(lbl_inside, final_inside),\n            Transform(lbl_est, final_est),\n            run_time=1.5\n        )\n        self.wait(2)\n        \n        # 8. CONCLUSION: Morph everything to center\n        final_result = Text(\"\u03c0 \u2248 3.14159\", font_size=72, color=YELLOW).move_to(ORIGIN)\n        \n        # Gather all visible objects\n        all_objects = VGroup(\n            title, \n            square, circle, filled_square, filled_circle,\n            sim_formula, lbl_total, lbl_inside, lbl_est, t_limit\n        )\n        \n        self.play(ReplacementTransform(all_objects, final_result), run_time=2)\n        self.wait(3)",
  "estimated_duration": 55
}